setwd("C:/Users/MMKONDIWA/OneDrive - CIMMYT/Documents/GitHub/where_to_put_agroecology/models/Crop_Diversity")
sink("C:/Users/MMKONDIWA/OneDrive - CIMMYT/Documents/GitHub/where_to_put_agroecology/models/Crop_Diversity/console.txt", append = FALSE)
##########################################################################################
#
#     ~ ~ ~ Simple Crop Diversity Model (CDM) ~ ~ ~
#     ~ ~ ~ this is just a toy model ~ ~ ~
#     ~ ~ ~ Input data ~ ~ ~
#    land_use.asc        |land use map containing the following classes
#                        |1,2,3,4,5 = arable land with increasing intensity from 1 to 5
#
#    crop suitability.asc  |map on soil fertility which can range from 0.1 to 1
#
#    Objective: Maximize crop value of production
#
##########################################################################################

# set working directory

# read in ascii files
lu.map <- read.table("map.asc", h = F, skip = 6, sep = " ")


# count land use classes
lu.n <- rep(0, 10)
for (i in 1:10) {
  lu.n[i] <- dim(which(lu.map == i, arr.ind=T))[1]
}

# Calculate crop diversity as sum of crops
count_crops.sum <- sum(lu.n * 1)

# write model output
write.table(count_crops.sum, "CDM_output.csv", append = FALSE, sep = ";", col.names = FALSE, row.names = FALSE)

























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































sink()
